{% extends 'base.html' %}
{% load static %}
{% block custom_styles %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block container %}
    <div class="container-xl px-4 mt-4">
        <nav class="nav nav-borders">
            {% url 'schools:edit_school' as edit_school %}
            <a class="nav-link ms-0"
               type="button"
               hx-get="{{ edit_school }}"
               hx-target="#section"
               hx-swap="innerHTML"
               id="edit-profile-tab">
                Editar perfil de la escuela
            </a>

            {% url 'schools:photos' as photos %}
            <a class="nav-link ms-0"
               href="#" type="button"
               hx-get="{{ photos }}"
               hx-target="#section"
               hx-swap="innerHTML"
               id="photos-tab">
                Editar fotos
            </a>

            {% url 'schools:create_careers' as careers_url %}
            <a class="nav-link ms-0"
               href="#" type="button"
               hx-get="{{ careers_url }}"
               hx-target="#section"
               hx-swap="innerHTML"
               id="careers-tab">
                Administrar carreras
            </a>
        </nav>
        <hr class="mt-0 mb-4">

        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-success">{{ message }}</div>
            {% endfor %}
        {% endif %}

        <div class="mb-3">
            <a class="text-decoration-none" href="{% url 'home' %}">
                <i class="fa-solid fa-arrow-left"></i> Volver al listado de escuelas
            </a>
        </div>

        {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
        {% endif %}

        <div id="section" class="mx-4">
            {% if careers_context %}
                {% include 'school/create_careers.html' %}
            {% else %}
                {% include 'school/partial/edit_data.html' %}
            {% endif %}
        </div>

    </div>
{% endblock %}

{% block js %}
    <script src="{% static 'js/edit_school.js' %}"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key={{ GOOGLE_MAPS_API_KEY }}&libraries=places&callback=initMap"
            async defer></script>
{% endblock %}
